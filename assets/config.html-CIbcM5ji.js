import{_ as u,r as o,o as r,c as k,a as n,e as a,b as s,w as t,d as l}from"./app-C7opU1tZ.js";const d={},m=n("h1",{id:"configure",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#configure"},[n("span",null,"Configure")])],-1),g={href:"https://github.com/guoshiqiufeng/loki",target:"_blank",rel:"noopener noreferrer"},v=l(`<h2 id="rocketmq" tabindex="-1"><a class="header-anchor" href="#rocketmq"><span>RocketMQ</span></a></h2><h3 id="configure-the-lokimapperscan-annotation" tabindex="-1"><a class="header-anchor" href="#configure-the-lokimapperscan-annotation"><span>Configure the <code>LokiMapperScan</code> annotation</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>
<span class="token annotation punctuation">@LokiMapperScan</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LokiTestApplication</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">LokiTestApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="application-yml-configure-mq-connection-parameters" tabindex="-1"><a class="header-anchor" href="#application-yml-configure-mq-connection-parameters"><span><code>application.yml</code> Configure <code>mq</code> connection parameters</span></a></h3><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">loki</span><span class="token punctuation">:</span>
  <span class="token key atrule">global-config</span><span class="token punctuation">:</span>
    <span class="token key atrule">mq-config</span><span class="token punctuation">:</span>
      <span class="token key atrule">mq-type</span><span class="token punctuation">:</span> rocket_mq
      <span class="token key atrule">address</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">8081</span>
      <span class="token key atrule">auth</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
      <span class="token key atrule">username</span><span class="token punctuation">:</span> un
      <span class="token key atrule">password</span><span class="token punctuation">:</span> ps
      <span class="token key atrule">connect-timeout</span><span class="token punctuation">:</span> <span class="token number">300</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,5),h={href:"https://github.com/guoshiqiufeng/loki",target:"_blank",rel:"noopener noreferrer"},y={href:"https://github.com/guoshiqiufeng/loki-test/tree/master/loki-rocketmq-test",target:"_blank",rel:"noopener noreferrer"},b=l(`<h2 id="kafka" tabindex="-1"><a class="header-anchor" href="#kafka"><span>Kafka</span></a></h2><h3 id="configure-the-lokimapperscan-annotation-1" tabindex="-1"><a class="header-anchor" href="#configure-the-lokimapperscan-annotation-1"><span>Configure the <code>LokiMapperScan</code> annotation</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>
<span class="token annotation punctuation">@LokiMapperScan</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LokiTestApplication</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">LokiTestApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="application-yml-configure-mq-connection-parameters-1" tabindex="-1"><a class="header-anchor" href="#application-yml-configure-mq-connection-parameters-1"><span><code>application.yml</code> Configure <code>mq</code> connection parameters</span></a></h3><blockquote><p>Supports all configurations under <code>spring.kafka</code></p></blockquote><div class="language-yaml line-numbers-mode" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">kafka</span><span class="token punctuation">:</span>
    <span class="token key atrule">bootstrap-servers</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">9092</span>
    <span class="token key atrule">consumer</span><span class="token punctuation">:</span>
      <span class="token key atrule">auto</span><span class="token punctuation">:</span>
        <span class="token key atrule">offset</span><span class="token punctuation">:</span>
          <span class="token key atrule">reset</span><span class="token punctuation">:</span> earliest
      <span class="token key atrule">auto-commit-interval</span><span class="token punctuation">:</span> <span class="token number">1000</span>
      <span class="token key atrule">enable-auto-commit</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
      
<span class="token key atrule">loki</span><span class="token punctuation">:</span>
  <span class="token key atrule">global-config</span><span class="token punctuation">:</span>
    <span class="token key atrule">mq-config</span><span class="token punctuation">:</span>
      <span class="token key atrule">mq-type</span><span class="token punctuation">:</span> kafka
      <span class="token key atrule">address</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">9092</span> 
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,6),f={href:"https://github.com/guoshiqiufeng/loki",target:"_blank",rel:"noopener noreferrer"},_={href:"https://github.com/guoshiqiufeng/loki-test/tree/master/loki-kafka-test",target:"_blank",rel:"noopener noreferrer"},q=l(`<h2 id="redis" tabindex="-1"><a class="header-anchor" href="#redis"><span>Redis</span></a></h2><h3 id="configure-the-lokimapperscan-annotation-2" tabindex="-1"><a class="header-anchor" href="#configure-the-lokimapperscan-annotation-2"><span>Configure the <code>LokiMapperScan</code> annotation</span></a></h3><div class="language-java line-numbers-mode" data-ext="java" data-title="java"><pre class="language-java"><code>
<span class="token annotation punctuation">@LokiMapperScan</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LokiTestApplication</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">LokiTestApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="application-yml-configure-mq-connection-parameters-2" tabindex="-1"><a class="header-anchor" href="#application-yml-configure-mq-connection-parameters-2"><span><code>application.yml</code> Configure <code>mq</code> connection parameters</span></a></h3><blockquote><p>Support Redis Standalone, Cluster, and Sentinel modes</p><p>Support all configurations under <code>spring.data.redis</code></p><p>The configuration under mq-config will overwrite the configuration under <code>spring.data.redis</code></p></blockquote>`,5),w=n("div",{class:"language-yaml","data-ext":"yml","data-title":"yml"},[n("pre",{class:"language-yaml"},[n("code",null,[n("span",{class:"token key atrule"},"spring"),n("span",{class:"token punctuation"},":"),a(`
  `),n("span",{class:"token key atrule"},"data"),n("span",{class:"token punctuation"},":"),a(`
    `),n("span",{class:"token key atrule"},"redis"),n("span",{class:"token punctuation"},":"),a(`
      `),n("span",{class:"token key atrule"},"host"),n("span",{class:"token punctuation"},":"),a(` 127.0.0.1
      `),n("span",{class:"token key atrule"},"port"),n("span",{class:"token punctuation"},":"),a(),n("span",{class:"token number"},"6379"),a(`
      `),n("span",{class:"token key atrule"},"database"),n("span",{class:"token punctuation"},":"),a(),n("span",{class:"token number"},"12"),a(`
`),n("span",{class:"token key atrule"},"loki"),n("span",{class:"token punctuation"},":"),a(`
  `),n("span",{class:"token key atrule"},"global-config"),n("span",{class:"token punctuation"},":"),a(`
    `),n("span",{class:"token key atrule"},"mq-config"),n("span",{class:"token punctuation"},":"),a(`
      `),n("span",{class:"token key atrule"},"mq-type"),n("span",{class:"token punctuation"},":"),a(` redis 
      `),n("span",{class:"token key atrule"},"address"),n("span",{class:"token punctuation"},":"),a(" 127.0.0.1"),n("span",{class:"token punctuation"},":"),n("span",{class:"token number"},"6379"),a(`
      `),n("span",{class:"token key atrule"},"auth"),n("span",{class:"token punctuation"},":"),a(),n("span",{class:"token boolean important"},"true"),a(`
      `),n("span",{class:"token key atrule"},"password"),n("span",{class:"token punctuation"},":"),a(),n("span",{class:"token number"},"123456"),a(`
`)])])],-1),x=n("div",{class:"language-yaml","data-ext":"yml","data-title":"yml"},[n("pre",{class:"language-yaml"},[n("code",null,[n("span",{class:"token key atrule"},"spring"),n("span",{class:"token punctuation"},":"),a(`
  `),n("span",{class:"token key atrule"},"data"),n("span",{class:"token punctuation"},":"),a(`
    `),n("span",{class:"token key atrule"},"redis"),n("span",{class:"token punctuation"},":"),a(`
      `),n("span",{class:"token key atrule"},"cluster"),n("span",{class:"token punctuation"},":"),a(`
        `),n("span",{class:"token key atrule"},"nodes"),n("span",{class:"token punctuation"},":"),a(` 
        `),n("span",{class:"token punctuation"},"-"),a(" 127.0.0.1"),n("span",{class:"token punctuation"},":"),n("span",{class:"token number"},"6380"),a(`
        `),n("span",{class:"token punctuation"},"-"),a(" 127.0.0.1"),n("span",{class:"token punctuation"},":"),n("span",{class:"token number"},"6379"),a(`
        `),n("span",{class:"token punctuation"},"-"),a(" 127.0.0.1"),n("span",{class:"token punctuation"},":"),n("span",{class:"token number"},"6381"),a(`
      `),n("span",{class:"token key atrule"},"password"),n("span",{class:"token punctuation"},":"),a(),n("span",{class:"token number"},"123456"),a(`
      `),n("span",{class:"token key atrule"},"database"),n("span",{class:"token punctuation"},":"),a(),n("span",{class:"token number"},"12"),a(`
`),n("span",{class:"token key atrule"},"loki"),n("span",{class:"token punctuation"},":"),a(`
  `),n("span",{class:"token key atrule"},"global-config"),n("span",{class:"token punctuation"},":"),a(`
    `),n("span",{class:"token key atrule"},"mq-config"),n("span",{class:"token punctuation"},":"),a(`
      `),n("span",{class:"token key atrule"},"mq-type"),n("span",{class:"token punctuation"},":"),a(` redis 
      `),n("span",{class:"token key atrule"},"address"),n("span",{class:"token punctuation"},":"),a(" 127.0.0.1"),n("span",{class:"token punctuation"},":"),n("span",{class:"token number"},"6380"),n("span",{class:"token punctuation"},","),a("127.0.0.1"),n("span",{class:"token punctuation"},":"),n("span",{class:"token number"},"6379"),n("span",{class:"token punctuation"},","),a("127.0.0.1"),n("span",{class:"token punctuation"},":"),n("span",{class:"token number"},"6381"),a(`
      `),n("span",{class:"token key atrule"},"auth"),n("span",{class:"token punctuation"},":"),a(),n("span",{class:"token boolean important"},"true"),a(`
      `),n("span",{class:"token key atrule"},"password"),n("span",{class:"token punctuation"},":"),a(),n("span",{class:"token number"},"123456"),a(`
`)])])],-1),S=n("div",{class:"language-yaml","data-ext":"yml","data-title":"yml"},[n("pre",{class:"language-yaml"},[n("code",null,[n("span",{class:"token key atrule"},"spring"),n("span",{class:"token punctuation"},":"),a(`
  `),n("span",{class:"token key atrule"},"data"),n("span",{class:"token punctuation"},":"),a(`
    `),n("span",{class:"token key atrule"},"redis"),n("span",{class:"token punctuation"},":"),a(`
      `),n("span",{class:"token key atrule"},"sentinel"),n("span",{class:"token punctuation"},":"),a(`
        `),n("span",{class:"token key atrule"},"master"),n("span",{class:"token punctuation"},":"),a(` mymaster
        `),n("span",{class:"token key atrule"},"nodes"),n("span",{class:"token punctuation"},":"),a(`
          `),n("span",{class:"token punctuation"},"-"),a(" 127.0.0.1"),n("span",{class:"token punctuation"},":"),n("span",{class:"token number"},"26380"),a(`
          `),n("span",{class:"token punctuation"},"-"),a(" 127.0.0.1"),n("span",{class:"token punctuation"},":"),n("span",{class:"token number"},"26329"),a(`
          `),n("span",{class:"token punctuation"},"-"),a(" 127.0.0.1"),n("span",{class:"token punctuation"},":"),n("span",{class:"token number"},"26381"),a(`
        `),n("span",{class:"token key atrule"},"password"),n("span",{class:"token punctuation"},":"),a(),n("span",{class:"token number"},"123456"),a(`
      `),n("span",{class:"token key atrule"},"password"),n("span",{class:"token punctuation"},":"),a(),n("span",{class:"token number"},"123456"),a(`
      `),n("span",{class:"token key atrule"},"database"),n("span",{class:"token punctuation"},":"),a(),n("span",{class:"token number"},"12"),a(`
`),n("span",{class:"token key atrule"},"loki"),n("span",{class:"token punctuation"},":"),a(`
  `),n("span",{class:"token key atrule"},"global-config"),n("span",{class:"token punctuation"},":"),a(`
    `),n("span",{class:"token key atrule"},"mq-config"),n("span",{class:"token punctuation"},":"),a(`
      `),n("span",{class:"token key atrule"},"mq-type"),n("span",{class:"token punctuation"},":"),a(` redis 
      `),n("span",{class:"token key atrule"},"address"),n("span",{class:"token punctuation"},":"),a(" mymaster"),n("span",{class:"token punctuation"},","),a("127.0.0.1"),n("span",{class:"token punctuation"},":"),n("span",{class:"token number"},"26380"),n("span",{class:"token punctuation"},","),a("127.0.0.1"),n("span",{class:"token punctuation"},":"),n("span",{class:"token number"},"26379"),n("span",{class:"token punctuation"},","),a("127.0.0.1"),n("span",{class:"token punctuation"},":"),n("span",{class:"token number"},"26381"),a(`
      `),n("span",{class:"token key atrule"},"auth"),n("span",{class:"token punctuation"},":"),a(),n("span",{class:"token boolean important"},"true"),a(`
      `),n("span",{class:"token key atrule"},"password"),n("span",{class:"token punctuation"},":"),a(),n("span",{class:"token number"},"123456"),a(`
`)])])],-1),C=l(`<h3 id="optional-clients" tabindex="-1"><a class="header-anchor" href="#optional-clients"><span>Optional Clients</span></a></h3><p>The <code>jedis</code> client is used by default, v1.2.0 or above, <code>spring-data-redis</code> is used by default when <code>spring-data-redis</code> is introduced, and the client can be specified via configuration parameters.</p><ul><li>jedis default implementation</li></ul><div class="language-yaml" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">loki</span><span class="token punctuation">:</span>
  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">support-type</span><span class="token punctuation">:</span> default
</code></pre></div><ul><li>spring-data implementation</li></ul><div class="language-yaml" data-ext="yml" data-title="yml"><pre class="language-yaml"><code><span class="token key atrule">loki</span><span class="token punctuation">:</span>
  <span class="token key atrule">redis</span><span class="token punctuation">:</span>
    <span class="token key atrule">support-type</span><span class="token punctuation">:</span> spring<span class="token punctuation">-</span>data
</code></pre></div>`,6),L={href:"https://github.com/guoshiqiufeng/loki",target:"_blank",rel:"noopener noreferrer"},j={href:"https://github.com/guoshiqiufeng/loki-test/tree/master/loki-kafka-test",target:"_blank",rel:"noopener noreferrer"};function A(M,I){const e=o("ExternalLinkIcon"),c=o("RouteLink"),p=o("CodeGroupItem"),i=o("CodeGroup");return r(),k("div",null,[m,n("p",null,[n("a",g,[a("LOKI"),s(e)]),a(" is very easy to configure, we just need some simple configuration！")]),n("blockquote",null,[n("p",null,[a("Make sure you have LOKI installed, if you haven't, check out the "),s(c,{to:"/en/guide/install.html"},{default:t(()=>[a("Install")]),_:1}),a("。")])]),v,n("p",null,[a("Generally speaking, a general simple project can be used normally with the above configuration "),n("a",h,[a("LOKI"),s(e)]),a(", please refer to the following project: "),n("a",y,[a("loki-test"),s(e)]),a("。")]),b,n("p",null,[a("Generally speaking, a general simple project can be used normally with the above configuration "),n("a",f,[a("LOKI"),s(e)]),a(", please refer to the following project: "),n("a",_,[a("loki-test"),s(e)]),a("。")]),q,s(i,null,{default:t(()=>[s(p,{title:"Standalone",active:""},{default:t(()=>[w]),_:1}),s(p,{title:"Cluster"},{default:t(()=>[x]),_:1}),s(p,{title:"Sentinel"},{default:t(()=>[S]),_:1})]),_:1}),C,n("p",null,[a("Generally speaking, a general simple project can be used normally with the above configuration "),n("a",L,[a("LOKI"),s(e)]),a(", please refer to the following project: "),n("a",j,[a("loki-test"),s(e)]),a("。")])])}const O=u(d,[["render",A],["__file","config.html.vue"]]),R=JSON.parse('{"path":"/en/guide/config.html","title":"Configure","lang":"en","frontmatter":{"lang":"en","title":"Configure","description":null},"headers":[{"level":2,"title":"RocketMQ","slug":"rocketmq","link":"#rocketmq","children":[{"level":3,"title":"Configure the LokiMapperScan annotation","slug":"configure-the-lokimapperscan-annotation","link":"#configure-the-lokimapperscan-annotation","children":[]},{"level":3,"title":"application.yml Configure mq connection parameters","slug":"application-yml-configure-mq-connection-parameters","link":"#application-yml-configure-mq-connection-parameters","children":[]}]},{"level":2,"title":"Kafka","slug":"kafka","link":"#kafka","children":[{"level":3,"title":"Configure the LokiMapperScan annotation","slug":"configure-the-lokimapperscan-annotation-1","link":"#configure-the-lokimapperscan-annotation-1","children":[]},{"level":3,"title":"application.yml Configure mq connection parameters","slug":"application-yml-configure-mq-connection-parameters-1","link":"#application-yml-configure-mq-connection-parameters-1","children":[]}]},{"level":2,"title":"Redis","slug":"redis","link":"#redis","children":[{"level":3,"title":"Configure the LokiMapperScan annotation","slug":"configure-the-lokimapperscan-annotation-2","link":"#configure-the-lokimapperscan-annotation-2","children":[]},{"level":3,"title":"application.yml Configure mq connection parameters","slug":"application-yml-configure-mq-connection-parameters-2","link":"#application-yml-configure-mq-connection-parameters-2","children":[]},{"level":3,"title":"Optional Clients","slug":"optional-clients","link":"#optional-clients","children":[]}]}],"git":{"updatedTime":1713249482000,"contributors":[{"name":"yanghq","email":"1040926235@qq.com","commits":8}]},"filePathRelative":"en/guide/config.md"}');export{O as comp,R as data};
